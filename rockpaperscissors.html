<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
  
    function computerPlay() {
      let choices = ["Rock", "Paper", "Scissors"];
      let selected = choices[Math.floor(Math.random() * 3)];
      return selected;
    }

    function playRound(playerSelection, computerSelection) {
      var reply;
      var resultIndicator;
      let playerSel = playerSelection.toLowerCase();
      playerSel = playerSel[0].toUpperCase() + playerSel.slice(1, playerSel.length);
      
      console.log('The computer choose ' + computerSelection + '.');

      if (playerSel == computerSelection) {
        console.log('It\'s a TIE!');
        resultIndicator = 0;
      } else if ((playerSel == 'Rock' && computerSelection == 'Scissors') || (playerSel == 'Paper' && computerSelection == 'Rock') || (playerSel == 'Scissors' && computerSelection == 'Paper')) {
        console.log('You Win! ' + playerSel + ' beats ' + computerSelection);
        resultIndicator = 1;
      } else {
        console.log('You Lose! ' + computerSelection + ' beats ' + playerSel);
        resultIndicator = -1;
      }
      return resultIndicator;
    }

    function game() {
      let totalWins = 0;
      let totalLosses = 0;
      let totalTies = 0;

      for (i = 0; i < 5; i++) {
        let playerSelection = prompt('Choose Rock, Paper or Scissors?', 'Rock');
        let playerSel = playerSelection.toLowerCase();
        playerSel = playerSel[0].toUpperCase() + playerSel.slice(1, playerSel.length);
        console.log(playerSel);
        if (playerSel == 'Rock' || playerSel == 'Paper' || playerSel == 'Scissors') {
          computerSelection = computerPlay();
          let result = playRound(playerSelection, computerSelection);

          if (result == 1) {
            totalWins++;
          } 
          if (result == -1) {
            totalLosses++;
          } 
          if (result == 0) {
            totalTies++;
          }
        } else {
          console.log('You didn\'t choose Rock, Paper or Scissors, that counts as a loss :(.');
          totalLosses++;
        }
      }

      if (totalWins > totalLosses) {
        console.log('You WIN the game! ' + totalWins + ' win(s) to ' + totalLosses + ' loss(es) with ' + totalTies + ' tie(s).');
      } else if (totalLosses > totalWins) {
        console.log('You LOSE the game! ' + totalWins + ' win(s) to ' + totalLosses + ' loss(es) with ' + totalTies + ' tie(s).');
      } else {
        console.log('You TIE the game! ' + totalWins + ' win(s) to ' + totalLosses + 'loss(es) with ' + totalTies + ' tie(s).');
      }
    }

    var playerSelection
    var computerSelection

    alert(game());

  </script>
</body>
</html>
